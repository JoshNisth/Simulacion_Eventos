<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallina Ponedora - Simulaci√≥n de Eventos Discretos</title>
    <meta name="description" content="Simulaci√≥n de proceso de producci√≥n de huevos por lotes, modelando colas y tiempos de producci√≥n.">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/gallina.css">
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="Navegaci√≥n principal">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../html/index.html" class="nav-title" style="text-decoration: none; color: inherit;">SimEventos</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">üêî Gallina Ponedora de Huevos</h1>
            <p class="hero-subtitle">Simula d√≠as de producci√≥n: huevos que se rompen, nacen pollitos y se venden huevos y pollos. Observa ingresos y p√©rdidas.</p>
        </div>
    </header>

    <main>
        <section class="sim-gallina" aria-labelledby="gallina-title">
            <div class="g-wrapper">
                <h2 id="gallina-title" class="sr-only">Par√°metros y resultados de la simulaci√≥n de la gallina</h2>
                <div class="g-grid">
                    <!-- Columna izquierda: Par√°metros -->
                    <form id="formGallina" class="g-card g-form" novalidate aria-describedby="form-ayuda">
                        <fieldset class="fieldset">
                            <legend class="legend">Par√°metros</legend>
                            <div class="form-grid">
                                <div class="form-field">
                                    <label for="nsim" class="label">N√∫mero de simulaciones</label>
                                    <input id="nsim" type="number" class="input" min="1" step="1" value="5" required />
                                </div>
                                <div class="form-field">
                                    <label for="dias" class="label">N√∫mero de d√≠as</label>
                                    <input id="dias" type="number" class="input" min="1" step="1" value="300" required />
                                </div>
                                <div class="form-field">
                                    <label for="precioHuevo" class="label">Precio huevo [$]</label>
                                    <input id="precioHuevo" type="number" class="input" min="0" step="0.01" value="2" required />
                                </div>
                                <div class="form-field">
                                    <label for="precioPollo" class="label">Precio pollo [$]</label>
                                    <input id="precioPollo" type="number" class="input" min="0" step="0.01" value="30" required />
                                </div>
                                <div class="form-field">
                                    <label for="lambda" class="label">Llegadas por d√≠a (Poisson Œª)</label>
                                    <input id="lambda" type="number" class="input" min="0" step="0.01" value="2" required />
                                </div>
                            </div>
                        </fieldset>
                        <fieldset class="fieldset prob-group" aria-labelledby="lbl-destino-huevo">
                            <legend id="lbl-destino-huevo" class="legend legend-sub">Destino del huevo</legend>
                            <div class="prob-grid huevos">
                                <div class="prob-item">
                                    <label for="pRoto" class="prob-label">Roto</label>
                                    <input id="pRoto" type="number" step="0.01" min="0" max="1" value="0.2" class="input prob" data-group="huevo" />
                                </div>
                                <div class="prob-item">
                                    <label for="pPollito" class="prob-label">Pollito</label>
                                    <input id="pPollito" type="number" step="0.01" min="0" max="1" value="0.3" class="input prob" data-group="huevo" />
                                </div>
                                <div class="prob-item">
                                    <label for="pHuevoFinal" class="prob-label">Huevo</label>
                                    <input id="pHuevoFinal" type="number" step="0.01" min="0" max="1" value="0.5" class="input prob" data-group="huevo" />
                                </div>
                                <div class="prob-total-row"><span>Total</span><span id="totalHuevo" class="prob-total">1.00</span></div>
                            </div>
                            <p class="hint">Las probabilidades deben sumar 1.00</p>
                            <p id="err-huevo" class="hint invalid-hint" hidden aria-live="polite"></p>
                        </fieldset>
                        <fieldset class="fieldset prob-group" aria-labelledby="lbl-destino-pollito">
                            <legend id="lbl-destino-pollito" class="legend legend-sub">Destino del pollito</legend>
                            <div class="prob-grid pollitos">
                                <div class="prob-item">
                                    <label for="pMuere" class="prob-label">Muere</label>
                                    <input id="pMuere" type="number" step="0.01" min="0" max="1" value="0.2" class="input prob" data-group="pollito" />
                                </div>
                                <div class="prob-item">
                                    <label for="pSobrevive" class="prob-label">Sobrevive</label>
                                    <input id="pSobrevive" type="number" step="0.01" min="0" max="1" value="0.8" class="input prob" data-group="pollito" />
                                </div>
                                <div class="prob-total-row"><span>Total</span><span id="totalPollito" class="prob-total">1.00</span></div>
                            </div>
                            <p class="hint">Las probabilidades deben sumar 1.00</p>
                            <p id="err-pollito" class="hint invalid-hint" hidden aria-live="polite"></p>
                        </fieldset>
                        <div class="actions">
                            <button type="button" id="btnSimularGallina" class="btn primary">SIMULAR</button>
                            <button type="reset" id="btnLimpiarGallina" class="btn ghost">LIMPIAR</button>
                            <a href="../html/index.html" class="btn link">‚Üê Volver</a>
                        </div>
                        <p id="form-ayuda" class="hint help">Ajusta par√°metros y probabilidades. Se valida que cada bloque sume 1.0 antes de simular.</p>
                    </form>

                    <!-- Columna derecha: Resultados -->
                    <div class="g-card results" aria-live="polite">
                        <h3 class="results-title">Resultados por simulaci√≥n</h3>
                        <div class="table-wrapper">
                            <table class="table" aria-describedby="captionGallina">
                                <caption id="captionGallina" class="sr-only">Resultados agregados por simulaci√≥n</caption>
                                <thead>
                                    <tr>
                                        <th>NSIM</th>
                                        <th>Huevos totales</th>
                                        <th>Huevos rotos</th>
                                        <th>Pollitos nacidos</th>
                                        <th>Pollitos muertos</th>
                                        <th>Pollos vendidos</th>
                                        <th>Huevos vendidos</th>
                                        <th>Ingreso bruto [$]</th>
                                    </tr>
                                </thead>
                                <tbody id="tbodyGallina"></tbody>
                            </table>
                        </div>
                        <div class="kpis">
                            <div class="chip"><span class="k-label">Ingreso bruto total</span><span id="kIngresoTotal" class="k-value">‚Äî</span></div>
                            <div class="chip"><span class="k-label">Ingreso bruto prom. por d√≠a</span><span id="kIngresoProm" class="k-value">‚Äî</span></div>
                            <div class="chip"><span class="k-label">Huevos rotos (total)</span><span id="kHuevosRotos" class="k-value">‚Äî</span></div>
                            <div class="chip"><span class="k-label">Pollitos muertos (total)</span><span id="kPollitosMuertos" class="k-value">‚Äî</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; <span id="currentYear"></span> Simulaci√≥n de Eventos Discretos - Proyecto Educativo</p>
                <a href="https://github.com/JoshNisth/Simulacion_Eventos" target="_blank" rel="noopener noreferrer" class="footer-link">
                    Ver en GitHub
                </a>
            </div>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/simulaciones/gallina.js"></script>
</body>
</html>