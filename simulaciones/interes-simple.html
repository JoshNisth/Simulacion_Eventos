<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inter√©s simple - Simulaci√≥n de Eventos Discretos</title>
    <meta name="description" content="Simulaci√≥n educativa de inter√©s simple: crecimiento lineal del capital con tasa fija.">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/interes.css">
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="Navegaci√≥n principal">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../html/index.html" class="nav-title" style="text-decoration: none; color: inherit;">SimEventos</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">üìà Inter√©s Simple</h1>
            <p class="hero-subtitle">Inter√©s simple: cada per√≠odo a√±ade el mismo importe C¬∑i al capital inicial (crecimiento lineal). F√≥rmula: M = C + C¬∑i¬∑n, donde C = capital inicial, i = tasa (decimal) y n = per√≠odos.</p>
        </div>
    </header>

    <main>
        <section class="simulations" aria-labelledby="int-simple-title">
            <div class="container" style="max-width:1400px;">
                <h2 id="int-simple-title" class="sr-only">Par√°metros y resultados de inter√©s</h2>
                <div class="is-grid">
                    <!-- Panel par√°metros -->
                    <form id="formInteres" class="panel card is-form" novalidate aria-describedby="ayuda-int">
                        <fieldset class="fieldset">
                            <legend class="legend">Par√°metros</legend>
                            <div class="form-grid">
                                <div class="form-field">
                                    <label for="capital" class="label">Capital inicial</label>
                                    <input type="number" id="capital" class="input" value="10000" min="0" step="0.01" required />
                                </div>
                                <div class="form-field">
                                    <label for="tasa" class="label">Tasa (%)</label>
                                    <input type="number" id="tasa" class="input" value="3.5" min="0" step="0.0001" required />
                                </div>
                                <div class="form-field">
                                    <label for="periodos" class="label">Per√≠odos (a√±os)</label>
                                    <input type="number" id="periodos" class="input" value="5" min="1" step="1" required />
                                </div>
                                <!-- Modo removido: s√≥lo inter√©s simple -->
                                <div class="form-field">
                                    <label for="redondeo" class="label">Decimales</label>
                                    <input type="number" id="redondeo" class="input" value="2" min="0" max="6" step="1" />
                                </div>
                                <!-- Tabla siempre visible -->
                            </div>
                            <div class="actions">
                                <button type="button" id="btnCalcular" class="btn primary">CALCULAR</button>
                                <button type="reset" id="btnLimpiar" class="btn ghost">LIMPIAR</button>
                                <a href="../html/index.html" class="btn link">‚Üê Volver</a>
                            </div>
                        </fieldset>
                        <fieldset class="fieldset" style="margin-top:18px;">
                            <legend class="legend legend-sub">Resultado r√°pido</legend>
                            <div class="kpis kpis-int">
                                <div class="chip"><span class="summary-label">Capital final</span><span id="kCapitalFinal" class="summary-value">‚Äî</span></div>
                                <div class="chip"><span class="summary-label">Inter√©s total</span><span id="kInteresTotal" class="summary-value">‚Äî</span></div>
                                <!-- Chip modo eliminado -->
                            </div>
                        </fieldset>
                    </form>
                    <!-- Panel resultados -->
                    <div class="panel card is-results" aria-live="polite">
                        <h3 class="results-title">Evoluci√≥n por per√≠odo</h3>
                        <div class="table-wrapper" id="tablaWrap">
                            <table class="table" id="tablaEvolucion" aria-describedby="captionInteres">
                                <caption id="captionInteres" class="sr-only">Evoluci√≥n del capital y el inter√©s por per√≠odo</caption>
                                <thead>
                                    <tr>
                                        <th>Per√≠odo</th>
                                        <th>Capital inicio</th>
                                        <th>Inter√©s del per√≠odo</th>
                                        <th>Capital final</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <p class="muted" id="notaModo" style="margin-top:12px;">Inter√©s simple: el inter√©s de cada per√≠odo es constante (C¬∑i).</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; <span id="currentYear"></span> Simulaci√≥n de Eventos Discretos</p>
                <a href="https://github.com/JoshNisth/Simulacion_Eventos" target="_blank" rel="noopener noreferrer" class="footer-link">
                    Ver en GitHub
                </a>
            </div>
        </div>
    </footer>

        <script src="../assets/js/main.js"></script>
        <script>
            (function(){
                const $ = s=>document.querySelector(s);
                const capitalEl = $('#capital');
                const tasaEl = $('#tasa');
                const periodosEl = $('#periodos');
                // Modo eliminado
                const redondeoEl = $('#redondeo');
                // Tabla siempre visible
                const btnCalcular = $('#btnCalcular');
                const btnLimpiar = $('#btnLimpiar');
                const kCapitalFinal = $('#kCapitalFinal');
                const kInteresTotal = $('#kInteresTotal');
                // kModo eliminado
                const tablaWrap = $('#tablaWrap');
                const tbody = $('#tablaEvolucion tbody');
                const notaModo = $('#notaModo');

                function fmt(n, dec){return Number(n).toLocaleString('es-VE',{minimumFractionDigits:dec,maximumFractionDigits:dec});}

                function calcular(){
                    let C0 = parseFloat(capitalEl.value)||0; if(C0<0) C0=0;
                    let tasaInput = parseFloat(tasaEl.value)||0; if(tasaInput<0) tasaInput=0;
                    let n = parseInt(periodosEl.value)||0; if(n<1) n=1;
                    let dec = parseInt(redondeoEl.value)||2; if(dec<0) dec=0; if(dec>6) dec=6;
                    // S√≥lo inter√©s simple. Tasa ya es porcentaje.
                    const i = tasaInput/100;
                    tbody.innerHTML='';
                    let capitalInicio = C0;
                    let capitalFin = C0;
                    let interesTotal = 0;

                    tablaWrap.hidden=false;

                    for(let periodo=1; periodo<=n; periodo++){
                        const capInicioPeriodo = C0 + C0 * i * (periodo-1);
                        const interesPeriodo = C0 * i;
                        const capFinPeriodo = capInicioPeriodo + interesPeriodo;
                        interesTotal += interesPeriodo;
                        capitalFin = capFinPeriodo;
                        const tr=document.createElement('tr');
                        tr.innerHTML=`<td>${periodo}</td><td>${fmt(capInicioPeriodo,dec)}</td><td>${fmt(interesPeriodo,dec)}</td><td>${fmt(capFinPeriodo,dec)}</td>`;
                        tbody.appendChild(tr);
                    }
                    capitalFin = C0 + C0 * i * n;
                    interesTotal = capitalFin - C0;
                    kCapitalFinal.textContent = `Bs ${fmt(capitalFin,dec)}`;
                    kInteresTotal.textContent = `Bs ${fmt(interesTotal,dec)}`;
                    notaModo.textContent = 'Inter√©s simple: cada per√≠odo genera C¬∑i constante, acumulaci√≥n lineal.';
                }
                function limpiar(){
                    tbody.innerHTML='';
                    kCapitalFinal.textContent='‚Äî';
                    kInteresTotal.textContent='‚Äî';
                    notaModo.textContent='Inter√©s simple: el inter√©s de cada per√≠odo es constante (C¬∑i).';
                    tablaWrap.hidden=false;
                }
                btnCalcular.addEventListener('click', calcular);
                btnLimpiar.addEventListener('click', limpiar);
            })();
        </script>
            <!-- estilos espec√≠ficos en assets/css/interes.css -->
</body>
</html>